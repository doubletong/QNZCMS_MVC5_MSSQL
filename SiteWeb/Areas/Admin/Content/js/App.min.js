var Common={ShowBox:function(n,t,i){switch(n){case 1:toastr.success(t,i);break;case 2:toastr.error(t,i);break;case 3:toastr.info(t,i);break;case 4:toastr.warning(t,i)}},ShowBoxWithFunc:function(n,t,i){switch(n.Status){case 1:toastr.success(n.Message,t);i();break;case 2:toastr.error(n.Message,t);break;case 3:toastr.info(n.Message,t);break;case 4:toastr.warning(n.Message,t)}},ShowBoxWithFuncBack:function(n,t,i){switch(n.Status){case 1:toastr.success(n.Message,t);i(n.Id,n.Data);break;case 2:toastr.error(n.Message,t);break;case 3:toastr.info(n.Message,t);break;case 4:toastr.warning(n.Message,t)}},SubmitBack:function(n,t,i){switch(n.Status){case 1:toastr.success(n.Message,t);i!==undefined&&i.html(n.Data);break;case 2:toastr.error(n.Message,t);break;case 3:toastr.info(n.Message,t);break;case 4:toastr.warning(n.Message,t)}},PageSizeSet:function(n,t,i,r){$.post(n,{pageSize:i},function(n){switch(n.Status){case 1:r();break;case 2:toastr.error(n.Message,t);break;case 3:toastr.info(n.Message,t);break;case 4:toastr.warning(n.Message,t)}})},SingleActionWithFunc:function(n,t,i,r){$.post(n,$("#anti-form").serialize(),function(n){switch(n.Status){case 1:toastr.success(n.Message,t);r(i);break;case 2:toastr.error(n.Message,t);break;case 3:toastr.info(n.Message,t);break;case 4:toastr.warning(n.Message,t)}})},SingleActionWithFuncBack:function(n,t,i,r){$.post(n,$("#anti-form").serialize(),function(n){switch(n.Status){case 1:toastr.success(n.Message,t);r(i,n.Data);break;case 2:toastr.error(n.Message,t);break;case 3:toastr.info(n.Message,t);break;case 4:toastr.warning(n.Message,t)}})},SingleAction:function(n,t,i){$.post(n,$("#anti-form").serialize(),function(n){if(i)switch(n.Status){case 1:toastr.success(n.Message,t);setTimeout(function(){location.reload()},1e3);break;case 2:toastr.error(n.Message,t);break;case 3:toastr.info(n.Message,t);break;case 4:toastr.warning(n.Message,t)}})},DeleteItem:function(n,t,i){$.post(n,$("#anti-form").serialize(),function(n){switch(n.Status){case 1:toastr.success(n.Message,t);i.closest(".item-container").remove();break;case 2:toastr.error(n.Message,t);break;case 3:toastr.info(n.Message,t);break;case 4:toastr.warning(n.Message,t)}})}},singleEelFinder={percent:70,baseUrl:"/tools/elfinder/default",baseForTingMCEUrl:"/tools/elfinder/ForTinyMCE4",selectActionFunction:null,elFinderCallback:function(n){this.selectActionFunction(n)},open:function(){var n=800,t=600,i,r;window.screen&&(n=window.screen.width*this.percent/100,t=window.screen.height*this.percent/100);i=screen.width/2-n/2;r=screen.height/2-t/2;window.open(this.baseUrl,"_blank","height="+t+",width="+n+",left="+i+",top="+r)},elFinderBrowser:function(n){return tinyMCE.activeEditor.windowManager.openUrl({url:"/tools/elfinder/ForTinyMCE4",title:"文件管理器",width:1100,height:600}),window.addEventListener("message",function(t){var i=t.data;n(i.content)}),!1},ImagesUploadHandler:function(n,t,i){var r,u,f;r=new XMLHttpRequest;r.withCredentials=!1;r.open("POST","/Tools/TinyMCE/TinymceUpload");r.onload=function(){var n;if(r.status!==200){i("HTTP Error: "+r.status);return}if(n=JSON.parse(r.responseText),!n||typeof n.location!="string"){i("Invalid JSON: "+r.responseText);return}t(n.location)};f="";jQuery(tinymce.activeEditor.dom.getRoot()).find("img").not(".loaded-before").each(function(){f=$(this).attr("alt");$(this).addClass("loaded-before")});u=new FormData;u.append("file",n.blob(),n.filename());u.append("description",f);r.send(u)}};$(function(){var t=function(){var t=$(window).height(),n=$(window).width(),i=Math.max($("#sidebar-nav").height(),$("#rightcol").height(),t);$("#rightcol,#sidebar-nav").css({"min-height":i+"px"});n<=768?$("#rightcol").css({width:n+"px"}):$("#rightcol").css({width:"auto"})},i,n;t();$(window).resize(function(){t()});i=$(".mainmenu a.active").closest("li").attr("data-parent");$(".mainmenu li[data-parent="+i+"]").fadeIn();$.each($(".down-nav>a"),function(n,t){var i=$(t).attr("data-id"),r=$(".mainmenu li[data-parent="+i+"]").length,u='<span class="badge">'+r+"<\/span>";$(t).append(u)});$(".down-nav>a").click(function(n){var t,i;n.preventDefault();t=$(this).attr("data-id");$(".mainmenu li[data-parent="+t+"]").slideToggle();i=$(this).closest("li");i.toggleClass("nav-open")});$(".closemenu a").on("click",function(t){n();t.preventDefault()});$(".showmenu").on("click",function(t){var i=$("#rightcol").css("margin-left");i==="0px"?($("#rightcol").animate({marginLeft:"170"},"fast"),$("#wrapper").removeClass("nonav")):n();t.preventDefault()});n=function(){$("#rightcol").animate({marginLeft:"0"},"fast");$("#wrapper").addClass("nonav")};$("a.expand").click(function(n){$(this).closest(".box").addClass("box-fixed");$(this).hide();$(this).next("a").show();n.preventDefault()});$("a.compress").click(function(n){$(this).closest(".box").removeClass("box-fixed");$(this).hide();$(this).prev("a").show();n.preventDefault()})});